---
title: 【GAS】Imgurに画像を投稿してくれるLINE Botの作成
tags:
  - GoogleAppsScript
  - GAS
  - 初心者
  - imgur
  - linebot
private: true
updated_at: '2023-08-30T18:14:39+09:00'
id: 0049e05d51ddc6ad03c1
organization_url_name: null
slide: false
---
# はじめに

「簡単に画像を共有してぇ～」「LINEで画像送ったら画像URL取得できるようにしてぇ～」と思って「Imgur LINE Bot」と検索してもコードが公開されているサイトが見つからなかったので、自分で作ってみました。皆書いてくれ～。

完成イメージ↓

![完成](https://raw.githubusercontent.com/SoniPana/Qiita-Content/main/images/23/08/30/00-01-talk.jpg)

# 1. Imgur

## 1-1. Imgurにログイン

まずはImgurにログインしてください。アカウントを持っていない方は[こちら](https://imgur.com/register)からアカウントを作成してください。

https://imgur.com/

## 1-2. Imgur APIの取得

APIの取得は↓からできます。

https://api.imgur.com/oauth2/addclient

- Application name: アプリケーション名
- Authorization type: ```Anonymous usage without user authorization```を選択
- Authorization callback URL: 匿名アップロードの場合は関係ないので、適当なURLを入力
- Application website (optional): 省略可能
- Email: メールアドレス
- Description: アプリケーションの説明

![API取得](https://raw.githubusercontent.com/SoniPana/Qiita-Content/main/images/23/08/30/01-01-api.png)

Submitを押すと↓のような画面が表示されるので、```Client ID```と```Client secret```をメモしておいてください。(今回使用するのは```Client ID```のみ)

![API表示](https://raw.githubusercontent.com/SoniPana/Qiita-Content/main/images/23/08/30/01-02-key.png)

# 2. LINE

## 2-1. LINE Developersにログイン

https://account.line.biz/login

ログイン後、このような画面になります。プロバイダーを作成していない方は、「作成」をクリックし、プロバイダーを作成してください。

![プロバイダー](https://raw.githubusercontent.com/SoniPana/Qiita-Content/main/images/23/08/30/02-01-provider.png)

## 2-2. LINE Botの作成

プロバイダーを選んで、「新規チャネル」→「Messaging API」を選択し、チャネルを作成してください。(プロバイダーを新規に作成した場合は「Messaging API」を選択)

- チャネルの種類: ```Messaging API```
- プロバイダー: 任意のプロバイダーを選択
- 会社・事務所の所在国・地域: ```日本```
- チャネルアイコン: 任意の画像をアップロード
  - 自分は「Imgur」でググってImgurのアイコン画像を拾ってきました
- チャネル名: 任意のチャネル名
- 説明: 任意の説明
- 大業種・小業種: テキトーに選択
- メールアドレス: メールアドレス
- プライバシーポリシーURL・サービス利用規約URL: 任意のURL(空欄でOK)

![チャネル作成](https://raw.githubusercontent.com/SoniPana/Qiita-Content/main/images/23/08/30/02-02-channel.png)

作成が終わると↓の画面になるので、作ったチャネルをクリックしてください。

![チャネル一覧](https://raw.githubusercontent.com/SoniPana/Qiita-Content/main/images/23/08/30/02-03-channel-list.png)

## 2-3. Messaging APIの設定

「Messaging API設定」→「チャネルアクセストークン」へ移動し、「発行」をクリックしてください。発行したトークンはメモしておいてください。

![トークン発行](https://raw.githubusercontent.com/SoniPana/Qiita-Content/main/images/23/08/30/02-04-token.png)

「Messaging API設定」→「LINE公式アカウント機能」へ移動し、「応答メッセージ」の横にある「編集」をクリックし、以下のように設定してください。

![応答機能設定](https://raw.githubusercontent.com/SoniPana/Qiita-Content/main/images/23/08/30/02-05-response.png)

あいさつメッセージは任意です。設定したい場合は設定してください。

# 3. GAS
